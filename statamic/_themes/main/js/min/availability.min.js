function resetHighlight(e){geojson.resetStyle(e.target)}function soldMap(){return{weight:1,color:"#fff",opacity:1,fillColor:"#bdd194",fillOpacity:1}}function soldMapResetHighlight(e){var o=e.target;o.setStyle({weight:1,color:"#fff",opacity:1,fillColor:"#bdd194",fillOpacity:1}),L.Browser.ie||L.Browser.opera||o.bringToFront()}function soldMapHighlight(e){var o=e.target;o.setStyle({weight:1,color:"#fff",opacity:1,fillColor:"#9ebd60",fillOpacity:1}),L.Browser.ie||L.Browser.opera||o.bringToFront()}function onEachFeaturesold(e,o){var a=(mapLayerGroups[e.properties.type],{maxWidth:400,keepInView:!0,closeButton:!1,keepInView:!0,autoPanPadding:[30,30]}),t="<div class='card availability sold'><h2>"+e.properties.activityTitle+"</h2><div class='col-md-4'><p>AVAILABILITY</p><p class='status'>"+e.properties.lotAvailability+"</p></div><div class='col-md-4'><p>SIZE</p><p>"+e.properties.lotSize+"</p></div><div class='col-md-4'><p>COST</p><p>"+e.properties.cost+"</p></div><a href="+e.properties.lotURL+"><i class='fa fa-search'></i>View Details & Floor Plans</a></div>";o.bindPopup(t,a),o.on({mouseover:soldMapHighlight,mouseout:soldMapResetHighlight})}function availableMap(){return{weight:1,color:"#fff",opacity:1,fillColor:"#f4816c",fillOpacity:1}}function availableMapResetHighlight(e){var o=e.target;o.setStyle({weight:1,color:"#fff",opacity:1,fillColor:"#f4816c",fillOpacity:1}),L.Browser.ie||L.Browser.opera||o.bringToFront()}function availableMapHighlight(e){var o=e.target;o.setStyle({weight:1,color:"#fff",opacity:1,fillColor:"#f2644b",fillOpacity:1}),L.Browser.ie||L.Browser.opera||o.bringToFront()}function onEachFeatureAvailable(e,o){var a=(mapLayerGroups[e.properties.type],{maxWidth:400,keepInView:!0,closeButton:!1,keepInView:!0,autoPanPadding:[30,30]}),t="<div class='card availability for-sale'><h2>"+e.properties.activityTitle+"</h2><div class='col-md-4'><p>AVAILABILITY</p><p class='status'>"+e.properties.lotAvailability+"</p></div><div class='col-md-4'><p>SIZE</p><p>"+e.properties.lotSize+"</p></div><div class='col-md-4'><p>COST</p><p>"+e.properties.cost+"</p></div><a href="+e.properties.lotURL+"><i class='fa fa-search'></i>View Details & Floor Plans</a></div>";o.bindPopup(t,a),o.on({mouseover:availableMapHighlight,mouseout:availableMapResetHighlight})}function contractOutMap(){return{weight:1,color:"#fff",opacity:1,fillColor:"#9dd3d0",fillOpacity:1}}function contractOutMapResetHighlight(e){var o=e.target;o.setStyle({weight:1,color:"#fff",opacity:1,fillColor:"#9dd3d0",fillOpacity:1}),L.Browser.ie||L.Browser.opera||o.bringToFront()}function contractOutMapHighlight(e){var o=e.target;o.setStyle({weight:1,color:"#fff",opacity:1,fillColor:"#48d4cd",fillOpacity:1}),L.Browser.ie||L.Browser.opera||o.bringToFront()}function onEachFeaturecontractOut(e,o){var a=(mapLayerGroups[e.properties.type],{maxWidth:400,keepInView:!0,closeButton:!1,keepInView:!0,autoPanPadding:[30,30]}),t="<div class='card availability contract-out'><h2>"+e.properties.activityTitle+"</h2><div class='col-md-5'><p>AVAILABILITY</p><p class='status'>"+e.properties.lotAvailability+"</p></div><div class='col-md-3'><p>SIZE</p><p>"+e.properties.lotSize+"</p></div><div class='col-md-4'><p>COST</p><p>"+e.properties.cost+"</p></div><a href="+e.properties.lotURL+"><i class='fa fa-search'></i>View Details & Floor Plans</a></div>";o.bindPopup(t,a),o.on({mouseover:contractOutMapHighlight,mouseout:contractOutMapResetHighlight})}function notReleasedMap(){return{weight:1,color:"#fff",opacity:1,fillColor:"#d0cebf",fillOpacity:1}}function notReleasedMapResetHighlight(e){var o=e.target;o.setStyle({weight:1,color:"#fff",opacity:1,fillColor:"#d0cebf",fillOpacity:1}),L.Browser.ie||L.Browser.opera||o.bringToFront()}function notReleasedMapHighlight(e){var o=e.target;o.setStyle({weight:1,color:"#fff",opacity:1,fillColor:"#bab8ab",fillOpacity:1}),L.Browser.ie||L.Browser.opera||o.bringToFront()}function onEachFeaturenotReleased(e,o){var a=(mapLayerGroups[e.properties.type],{maxWidth:400,keepInView:!0,closeButton:!1,keepInView:!0,autoPanPadding:[30,30]}),t="<div class='card availability not-released'><h2>"+e.properties.activityTitle+"</h2><div class='col-md-5'><p>AVAILABILITY</p><p class='status'>"+e.properties.lotAvailability+"</p></div><div class='col-md-4'><p>SIZE</p><p>"+e.properties.lotSize+"</p></div><div class='col-md-3'><p>COST</p><p>"+e.properties.cost+"</p></div><a href="+e.properties.lotURL+"><i class='fa fa-search'></i>View Details & Floor Plans</a></div>";o.bindPopup(t,a),o.on({mouseover:notReleasedMapHighlight,mouseout:notReleasedMapResetHighlight})}function notAvailableMap(){return{weight:1,color:"#fff",opacity:1,fillColor:"#d0cebf",fillOpacity:1}}function onEachFeaturenotAvailable(e){mapLayerGroups[e.properties.type]}var map=L.map("map",{center:[41.8872809,-74.3138479],zoom:16,scrollWheelZoom:!1,zoomControl:!1});L.tileLayer("http://a.tiles.mapbox.com/v3/sandersonj.i245n6m6/{z}/{x}/{y}.png",{id:"sandersonj.i245n6m6"}).addTo(map);var mapLayerGroups=[];L.Icon.Default.imagePath="assets/img/availability/icons";var popupOptions={maxWidth:400,keepInView:!0,closeButton:!1,keepInView:!0,autoPanPadding:[30,30]},callLocatorLayer=L.geoJson(labels,{pointToLayer:function(e,o){return L.marker(o).bindLabel(e.properties.MAP_LABEL,{noHide:!0})}}).addTo(map),geojson;geojson=L.geoJson(sold,{style:soldMap,onEachFeature:onEachFeaturesold,pointToLayer:function(e,o){return L.marker(o)}}).addTo(map),geojson=L.geoJson(available,{style:availableMap,onEachFeature:onEachFeatureAvailable,pointToLayer:function(e,o){return L.marker(o)}}).addTo(map),geojson=L.geoJson(contractOut,{style:contractOutMap,onEachFeature:onEachFeaturecontractOut,pointToLayer:function(e,o){return L.marker(o)}}).addTo(map),geojson=L.geoJson(notReleased,{style:notReleasedMap,onEachFeature:onEachFeaturenotReleased,pointToLayer:function(e,o){return L.marker(o)}}).addTo(map),geojson=L.geoJson(notAvailable,{style:notAvailableMap,onEachFeature:onEachFeaturenotAvailable,pointToLayer:function(e,o){return L.marker(o)}}).addTo(map);