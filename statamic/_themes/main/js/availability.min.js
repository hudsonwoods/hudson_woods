function resetHighlight(o){geojson.resetStyle(o.target)}function resetMap(){map.setView(new L.LatLng(41.8872809,-74.3138479),16)}function soldMap(){return{weight:1,color:"#676566",opacity:.2,fillColor:"#80726a",fillOpacity:.33}}function soldMapResetHighlight(o){var e=o.target;e.setStyle({weight:1,color:"#676566",opacity:.2,fillColor:"#80726a",fillOpacity:.33}),L.Browser.ie||L.Browser.opera||e.bringToFront()}function soldMapHighlight(o){var e=o.target;e.setStyle({weight:3,color:"#676566",opacity:1,fillColor:"#80726a",fillOpacity:.65}),L.Browser.ie||L.Browser.opera||e.bringToFront()}function onEachFeaturesold(o,e){var a=(mapLayerGroups[o.properties.type],"<div class='card availability sold'><h2>"+o.properties.activityTitle+"</h2><img src="+o.properties.image+"><div class='col-md-4'><p>AVAILABILITY</p><p class='status'>Sold</p></div><div class='col-md-4'><p>SIZE</p><p>"+o.properties.lotSize+"</p></div><div class='col-md-4'><p>COST</p><p>"+o.properties.cost+"</p></div><div class='row'></div><a href="+o.properties.lotURL+"><i class='fa fa-search'></i>View Floor Plans</a></div>");e.bindPopup(a,popupOptions),e.on({mouseover:soldMapHighlight,mouseout:soldMapResetHighlight,popupclose:resetMap})}function availableMap(){return{weight:1,color:"#676566",opacity:.2,fillColor:"#76962a",fillOpacity:.335}}function availableMapResetHighlight(o){var e=o.target;e.setStyle({weight:1,color:"#676566",opacity:.2,fillColor:"#76962a",fillOpacity:.335}),L.Browser.ie||L.Browser.opera||e.bringToFront()}function availableMapHighlight(o){var e=o.target;e.setStyle({weight:3,color:"#676566",opacity:1,fillColor:"#8fb043",fillOpacity:.65}),L.Browser.ie||L.Browser.opera||e.bringToFront()}function onEachFeatureAvailable(o,e){var a=(mapLayerGroups[o.properties.type],"<div class='card availability for-sale'><h2>"+o.properties.activityTitle+"</h2><img src="+o.properties.image+"><div class='col-md-4'><p>AVAILABILITY</p><p class='status'>For Sale</p></div><div class='col-md-4'><p>SIZE</p><p>"+o.properties.lotSize+"</p></div><div class='col-md-4'><p>COST</p><p>"+o.properties.cost+"</p></div><div class='row'></div><a href="+o.properties.lotURL+"><i class='fa fa-search'></i>View Floor Plans</a></div>");e.bindPopup(a,popupOptions),e.on({mouseover:availableMapHighlight,mouseout:availableMapResetHighlight,popupclose:resetMap})}function contractOutMap(){return{weight:1,color:"#676566",opacity:.2,fillColor:"#9fab84",fillOpacity:.33}}function contractOutMapResetHighlight(o){var e=o.target;e.setStyle({weight:1,color:"#676566",opacity:.2,fillColor:"#9fab84",fillOpacity:.33}),L.Browser.ie||L.Browser.opera||e.bringToFront()}function contractOutMapHighlight(o){var e=o.target;e.setStyle({weight:3,color:"#676566",opacity:1,fillColor:"#9fab84",fillOpacity:.65}),L.Browser.ie||L.Browser.opera||e.bringToFront()}function onEachFeaturecontractOut(o,e){var a=(mapLayerGroups[o.properties.type],"<div class='card availability contract-out'><h2>"+o.properties.activityTitle+"</h2><img src="+o.properties.image+"><div class='col-md-5'><p>AVAILABILITY</p><p class='status'>Contract Out</p></div><div class='col-md-3'><p>SIZE</p><p>"+o.properties.lotSize+"</p></div><div class='col-md-4'><p>COST</p><p>"+o.properties.cost+"</p></div><div class='row'></div><a href="+o.properties.lotURL+"><i class='fa fa-search'></i>View Floor Plans</a></div>");e.bindPopup(a,popupOptions),e.on({mouseover:contractOutMapHighlight,mouseout:contractOutMapResetHighlight,popupclose:resetMap})}function contractSignedMap(){return{weight:1,color:"#676566",opacity:.2,fillColor:"#7a7977",fillOpacity:.33}}function contractSignedMapResetHighlight(o){var e=o.target;e.setStyle({weight:1,color:"#676566",opacity:.2,fillColor:"#7a7977",fillOpacity:.33}),L.Browser.ie||L.Browser.opera||e.bringToFront()}function contractSignedMapHighlight(o){var e=o.target;e.setStyle({weight:3,color:"#676566",opacity:1,fillColor:"#adaba8",fillOpacity:.65}),L.Browser.ie||L.Browser.opera||e.bringToFront()}function onEachFeaturecontractSigned(o,e){var a=(mapLayerGroups[o.properties.type],"<div class='card availability not-released'><h2>"+o.properties.activityTitle+"</h2><img src="+o.properties.image+"><div class='col-md-6'><p>AVAILABILITY</p><p class='status'>Contract Signed</p></div><div class='col-md-3'><p>SIZE</p><p>"+o.properties.lotSize+"</p></div><div class='col-md-3'><p>COST</p><p>"+o.properties.cost+"</p></div><div class='row'></div><a href="+o.properties.lotURL+"><i class='fa fa-search'></i>View Floor Plans</a></div>");e.bindPopup(a,popupOptions),e.on({mouseover:contractSignedMapHighlight,mouseout:contractSignedMapResetHighlight,popupclose:resetMap})}function notReleasedMap(){return{weight:1,color:"#676566",opacity:.2,fillColor:"#ccc4bc",fillOpacity:.33}}function notReleasedMapResetHighlight(o){var e=o.target;e.setStyle({weight:1,color:"#676566",opacity:.2,fillColor:"#ccc4bc",fillOpacity:.33}),L.Browser.ie||L.Browser.opera||e.bringToFront()}function notReleasedMapHighlight(o){var e=o.target;e.setStyle({weight:3,color:"#676566",opacity:1,fillColor:"#ccc4bc",fillOpacity:.65}),L.Browser.ie||L.Browser.opera||e.bringToFront()}function onEachFeaturenotReleased(o,e){var a=(mapLayerGroups[o.properties.type],"<div class='card availability not-released'><h2>"+o.properties.activityTitle+"</h2><img src="+o.properties.image+"><div class='col-md-5'><p>AVAILABILITY</p><p class='status'>Not Released</p></div><div class='col-md-4'><p>SIZE</p><p>"+o.properties.lotSize+"</p></div><div class='col-md-3'><p>COST</p><p>"+o.properties.cost+"</p></div><div class='row'></div><a href="+o.properties.lotURL+"><i class='fa fa-search'></i>View Floor Plans</a></div>");e.bindPopup(a,popupOptions),e.on({mouseover:notReleasedMapHighlight,mouseout:notReleasedMapResetHighlight,popupclose:resetMap})}function notAvailableMap(){return{weight:1,color:"#676566",opacity:.2,fillColor:"#dbd5ce",fillOpacity:.33}}function onEachFeaturenotAvailable(o){mapLayerGroups[o.properties.type]}var map=L.map("map",{center:[41.8872809,-74.3138479],zoom:16,scrollWheelZoom:!1});L.tileLayer("http://a.tiles.mapbox.com/v3/sandersonj.i245n6m6/{z}/{x}/{y}.png",{id:"sandersonj.i245n6m6"}).addTo(map);var mapLayerGroups=[];L.Icon.Default.imagePath="assets/img/availability/icons";var popupOptions={maxWidth:400,keepInView:!1,closeButton:!0,autoPanPadding:[30,30]},callLocatorLayer=L.geoJson(labels,{pointToLayer:function(o,e){return L.marker(e).bindLabel(o.properties.MAP_LABEL,{noHide:!0})}}).addTo(map),geojson;geojson=L.geoJson(sold,{style:soldMap,onEachFeature:onEachFeaturesold,pointToLayer:function(o,e){return L.marker(e)}}).addTo(map),geojson=L.geoJson(available,{style:availableMap,onEachFeature:onEachFeatureAvailable,pointToLayer:function(o,e){return L.marker(e)}}).addTo(map),geojson=L.geoJson(contractOut,{style:contractOutMap,onEachFeature:onEachFeaturecontractOut,pointToLayer:function(o,e){return L.marker(e)}}).addTo(map),geojson=L.geoJson(contractSigned,{style:contractSignedMap,onEachFeature:onEachFeaturecontractSigned,pointToLayer:function(o,e){return L.marker(e)}}).addTo(map),geojson=L.geoJson(notReleased,{style:notReleasedMap,onEachFeature:onEachFeaturenotReleased,pointToLayer:function(o,e){return L.marker(e)}}).addTo(map),geojson=L.geoJson(notAvailable,{style:notAvailableMap,onEachFeature:onEachFeaturenotAvailable,pointToLayer:function(o,e){return L.marker(e)}}).addTo(map);